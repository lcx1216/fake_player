"use strict";(self["webpackChunkwyym"]=self["webpackChunkwyym"]||[]).push([[227],{2098:function(s,i,e){e.r(i),e.d(i,{default:function(){return C}});var t=e(6252),a=e(9963),n=e(3577);const l={class:"searchTop"},c={class:"searchHistory"},o={class:"historyLeft"},r=(0,t._)("span",{class:"history"},"历史",-1),h=["onClick"],y={class:"music"},u=["onClick"],d={class:"serial"},k={class:"nametop"},m={class:"name van-ellipsis"},p={class:"anthor van-ellipsis"},g={class:"musicright"},L={key:0,class:"iconfont icon-shipin"},w=(0,t._)("i",{class:"iconfont icon-31liebiao"},null,-1);function v(s,i,e,v,f,_){return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",l,[(0,t._)("i",{class:"iconfont icon-zuojiantou",onClick:i[0]||(i[0]=i=>s.$router.go(-1))}),(0,t.wy)((0,t._)("input",{type:"text",name:"",id:"",placeholder:"陈奕迅",onKeydown:i[1]||(i[1]=(0,a.D2)(((...s)=>_.enterkey&&_.enterkey(...s)),["enter"])),"onUpdate:modelValue":i[2]||(i[2]=s=>f.searchKey=s)},null,544),[[a.nr,f.searchKey]])]),(0,t._)("div",c,[(0,t._)("div",o,[r,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(f.keyList,(s=>((0,t.wg)(),(0,t.iD)("span",{class:"historyName",key:"item",onClick:i=>_.searchHis(s)},(0,n.zw)(s),9,h)))),128))]),(0,t._)("i",{class:"iconfont icon-icon",onClick:i[3]||(i[3]=(...s)=>_.delHistory&&_.delHistory(...s))})]),(0,t._)("div",y,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(f.searchList,((s,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"singleMusic",key:i},[(0,t._)("div",{class:"mucisname",onClick:i=>_.pushMusic(s)},[(0,t._)("div",d,(0,n.zw)(i+1),1),(0,t._)("div",k,[(0,t._)("div",m,(0,n.zw)(s.name),1),(0,t._)("div",p,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.artists,((s,i)=>((0,t.wg)(),(0,t.iD)("span",{key:i},(0,n.zw)(s.name),1)))),128))])])],8,u),(0,t._)("div",g,[0!=s.mvid?((0,t.wg)(),(0,t.iD)("i",L)):(0,t.kq)("",!0),w])])))),128))])],64)}var f=e(2884),_=e(3907),K={data(){return{keyList:[],searchKey:"",searchList:[]}},computed:{...(0,_.rn)(["playList"])},mounted(){this.keyList=JSON.parse(localStorage.getItem("keyList"))?JSON.parse(localStorage.getItem("keyList")):[]},methods:{enterkey:async function(){if(" "!==this.searchKey){this.keyList.unshift(this.searchKey),this.keyList=[...new Set(this.keyList)],this.keyList.length>8&&this.keyList.splice(this.keyList.length-1,1),localStorage.setItem("keyList",JSON.stringify(this.keyList));let s=await(0,f.on)(this.searchKey);console.log(s),this.searchList=s.data.result.songs,this.searchKey=""}},delHistory:function(){localStorage.removeItem("keyList"),this.keyList=[]},searchHis:async function(s){let i=await(0,f.on)(s);console.log(i),this.searchList=i.data.result.songs},pushMusic:function(s){s.al=s.album,s.al.picUrl=s.album.artist.img1v1Url,this.$store.commit("pushPlayList",s),this.$store.commit("updateMusicListIndex",this.$store.state.playList.length-1)},...(0,_.OI)(["pushPlayList","updateMusicListIndex"])}},H=e(3744);const D=(0,H.Z)(K,[["render",v]]);var C=D}}]);
//# sourceMappingURL=SearchView.863c24fb.js.map